(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{332:function(e,t,n){"use strict";var r=n(330),a=n(66),o=n(67),s=(n(331),n(343)),i=(n(335),n(329),n(336)),c=n.n(i),u=n(350),l=n.n(u),d=n(337),p=l.a.create({timeout:6e4,headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"}});p.interceptors.request.use((function(e){e.isFile&&(e.headers["Content-Type"]="multipart/form-data"),void 0!==e.type&&"download"==e.type&&(e.responseType="blob"),e.params&&(e.data=Object(r.a)({},e.data,e.params));var t=d.util.cookie.get("user");if(t){var n=JSON.parse(t);n&&n.accessToken&&(e.headers.Authorization=n.accessToken,e.headers.UserId=n.userId)}return e.headers.SystemType="manager","post"!==e.method&&"put"!==e.method||(e.headers["Content-Type"]="application/json"),e}),(function(e){Promise.reject(e)})),p.interceptors.response.use((function(e){if(200===e.status){var t=e.data;if("0004"===t.code){var n=e.config;return new Promise((function(e){var t=d.util.cookie.get("user"),n=JSON.parse(t),r={userId:n.userId,refleshToken:n.refleshToken};b.methods.reflesh(r).then((function(t){n.accessToken=t.accessToken,d.util.cookie.set("user",n),e()}))})).then((function(){return p(n)}))}if("0005"!==t.code)return-1!==e.headers["content-type"].indexOf("octet-stream")?e:e.data;c()({type:"error",message:t.errorMsg}),b.router.push({path:"/login"}),Promise.reject()}else c()({type:"error",message:e.data.errorMsg}),Promise.reject()}),(function(e){return Promise.reject(e),{code:"1",errorMsg:"请求异常，请稍后重试"}}));var h=p,f=new function(){return{disposeData:function(e){return"0000"===e.code?e.data:(c()({type:"error",message:e.errorMsg}),Promise.reject())},get:(a=Object(s.a)(regeneratorRuntime.mark((function e(t){var n,r,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,h({url:t,method:"get",params:n});case 3:return r=e.sent,e.abrupt("return",this.disposeData(r));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)}),post:(r=Object(s.a)(regeneratorRuntime.mark((function e(t){var n,r,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,h({url:t,method:"post",data:n});case 3:return r=e.sent,e.abrupt("return",this.disposeData(r));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)}),tablePost:(n=Object(s.a)(regeneratorRuntime.mark((function e(t){var n,r,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,h({url:t,method:"post",data:n});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)}),upload:(t=Object(s.a)(regeneratorRuntime.mark((function e(t){var n,r,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,h({url:t,method:"post",isFile:!0,data:n});case 3:return r=e.sent,e.abrupt("return",this.disposeData(r));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)}),download:(e=Object(s.a)(regeneratorRuntime.mark((function e(t){var n,r,a,o,s,i,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:{},r=c.length>2&&void 0!==c[2]?c[2]:{},e.next=4,h({url:t,method:"get",type:"download",responseType:"blob",params:n});case 4:a=e.sent,o=document.createElement("a"),s=new Blob([a.data],{type:r.mimeType||""}),o.href=URL.createObjectURL(s),(i=a.headers.filename)&&(i=decodeURIComponent(i)),o.download=r.fileName||i,o.click();case 12:case"end":return e.stop()}}),e,this)}))),function(t){return e.apply(this,arguments)})};var e,t,n,r,a},g="http://rap2.taobao.org:38080/app/mock/228700",m={getCommonDictValueList:function(e){return f.get("".concat(g,"/getCommonDictValue"),e)},getCommonDictByParentId:function(e){return f.get("".concat(g,"/getDictByPid"),e)},getCommonDictParents:function(e){return f.get("".concat(g,"/getDictParentListById"),e)},getCommonTest:function(e){return console.log("TCL: getCommonTest -> 原始版本",e),f.get("".concat(g,"manage/codeValue/findByCodeFiled"),e)},getAllOrgTree:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f.post("".concat(g,"/getAllOrgTree"),e)}};console.log("common",m);var v=function(){function e(t){Object(a.a)(this,e),this.defultApi=t,this.api=f,this.methods=Object(r.a)({},t)}return Object(o.a)(e,[{key:"init",value:function(e,t){this.methods=Object(r.a)({},this.defultApi,e),this.router=t}}]),e}(),b=t.a=new v(m)},347:function(e,t,n){"use strict";n(4),n(328),n(351),n(329);var r=n(352),a=n.n(r),o=n(337),s={components:{ElCascader:a.a},props:{value:{type:[String,Number],default:""},disabled:{type:Boolean,default:!1},options:{type:Array,default:[]},children:{type:String,default:"children"},valueName:{type:String,default:"value"},label:{type:String,default:"label"},parentId:{type:String,default:"parentId"}},watch:{value:function(e,t){!t&&e&&this.getParentIdList(e)},options:function(){this.initCasList()}},data:function(){return{cascValue:[],casList:[]}},mounted:function(){this.initCasList(),this.$set(this,"cascValue",this.getParentIdList(this.value))},methods:{cascChange:function(e){var t=e.slice(-1)[0];this.$emit("input",t)},initCasList:function(){var e=this,t=o.util.util.cloneObj(this.options),n=[].concat(t),r=this.children;!function e(t){t.forEach((function(t){t[r]&&t[r].length>0&&(n=n.concat(t[r]),e(t[r]))}))}(t),n.forEach((function(t){t[e.children]=[]})),this.casList=n},getParentIdList:function(e){var t=["".concat(e)],n=this;return function e(r){for(var a=0;a<n.casList.length;a++){var o=n.casList[a];o[n.valueName]==r&&(t.unshift("".concat(o[n.parentId])),e(o[n.parentId]))}}(e),"0"===t[0]&&t.shift(),t}}},i=n(1),c=Object(i.a)(s,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-cascader",{attrs:{disabled:e.disabled,options:e.options,props:{expandTrigger:"hover",checkStrictly:!0},"show-all-levels":!1},on:{change:e.cascChange},model:{value:e.cascValue,callback:function(t){e.cascValue=t},expression:"cascValue"}})}),[],!1,null,null,null);t.a=c.exports},373:function(e,t,n){"use strict";n(328);var r=n(332),a={components:{obitCascader:n(347).a},props:{value:{type:[Number,String]},disabled:{type:Boolean,default:!1}},watch:{value:function(e,t){!t&&e&&(this.orgId=e)},orgId:function(e){this.$emit("input",e)}},data:function(){return{orgId:"",orgList:[]}},methods:{getOrgList:function(){var e=this;r.a.methods.getAllOrgTree().then((function(t){e.orgList=t}))}},mounted:function(){this.orgId=this.value,this.getOrgList()}},o=n(1),s=Object(o.a)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.orgList.length>0?n("obit-cascader",{attrs:{disabled:e.disabled,options:e.orgList,props:{expandTrigger:"hover"},"show-all-levels":!1},model:{value:e.orgId,callback:function(t){e.orgId=t},expression:"orgId"}}):e._e()}),[],!1,null,null,null);t.a=s.exports},563:function(e,t,n){"use strict";n.r(t);var r={components:{obitOrg:n(373).a},data:function(){return{orgId:"85"}}},a=n(1),o=Object(a.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("obit-org",{attrs:{disabled:""},model:{value:e.orgId,callback:function(t){e.orgId=t},expression:"orgId"}}),e._v(" "),n("obit-org",{model:{value:e.orgId,callback:function(t){e.orgId=t},expression:"orgId"}})],1)}),[],!1,null,null,null);t.default=o.exports}}]);