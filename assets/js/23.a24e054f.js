(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{332:function(e,t,n){"use strict";var r=n(330),a=n(66),o=n(67),i=(n(331),n(343)),s=(n(335),n(329),n(336)),c=n.n(s),u=n(350),l=n.n(u),p=n(337),d=l.a.create({timeout:6e4,headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"}});d.interceptors.request.use((function(e){e.isFile&&(e.headers["Content-Type"]="multipart/form-data"),void 0!==e.type&&"download"==e.type&&(e.responseType="blob"),e.params&&(e.data=Object(r.a)({},e.data,e.params));var t=p.util.cookie.get("user");if(t){var n=JSON.parse(t);n&&n.accessToken&&(e.headers.Authorization=n.accessToken,e.headers.UserId=n.userId)}return e.headers.SystemType="manager","post"!==e.method&&"put"!==e.method||(e.headers["Content-Type"]="application/json"),e}),(function(e){Promise.reject(e)})),d.interceptors.response.use((function(e){if(200===e.status){var t=e.data;if("0004"===t.code){var n=e.config;return new Promise((function(e){var t=p.util.cookie.get("user"),n=JSON.parse(t),r={userId:n.userId,refleshToken:n.refleshToken};y.methods.reflesh(r).then((function(t){n.accessToken=t.accessToken,p.util.cookie.set("user",n),e()}))})).then((function(){return d(n)}))}if("0005"!==t.code)return-1!==e.headers["content-type"].indexOf("octet-stream")?e:e.data;c()({type:"error",message:t.errorMsg}),y.router.push({path:"/login"}),Promise.reject()}else c()({type:"error",message:e.data.errorMsg}),Promise.reject()}),(function(e){return Promise.reject(e),{code:"1",errorMsg:"请求异常，请稍后重试"}}));var h=d,m=new function(){return{disposeData:function(e){return"0000"===e.code?e.data:(c()({type:"error",message:e.errorMsg}),Promise.reject())},get:(a=Object(i.a)(regeneratorRuntime.mark((function e(t){var n,r,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,h({url:t,method:"get",params:n});case 3:return r=e.sent,e.abrupt("return",this.disposeData(r));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)}),post:(r=Object(i.a)(regeneratorRuntime.mark((function e(t){var n,r,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,h({url:t,method:"post",data:n});case 3:return r=e.sent,e.abrupt("return",this.disposeData(r));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)}),tablePost:(n=Object(i.a)(regeneratorRuntime.mark((function e(t){var n,r,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,h({url:t,method:"post",data:n});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)}),upload:(t=Object(i.a)(regeneratorRuntime.mark((function e(t){var n,r,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,h({url:t,method:"post",isFile:!0,data:n});case 3:return r=e.sent,e.abrupt("return",this.disposeData(r));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)}),download:(e=Object(i.a)(regeneratorRuntime.mark((function e(t){var n,r,a,o,i,s,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:{},r=c.length>2&&void 0!==c[2]?c[2]:{},e.next=4,h({url:t,method:"get",type:"download",responseType:"blob",params:n});case 4:a=e.sent,o=document.createElement("a"),i=new Blob([a.data],{type:r.mimeType||""}),o.href=URL.createObjectURL(i),(s=a.headers.filename)&&(s=decodeURIComponent(s)),o.download=r.fileName||s,o.click();case 12:case"end":return e.stop()}}),e,this)}))),function(t){return e.apply(this,arguments)})};var e,t,n,r,a},f="http://rap2.taobao.org:38080/app/mock/228700",g={getCommonDictValueList:function(e){return m.get("".concat(f,"/getCommonDictValue"),e)},getCommonDictByParentId:function(e){return m.get("".concat(f,"/getDictByPid"),e)},getCommonDictParents:function(e){return m.get("".concat(f,"/getDictParentListById"),e)},getCommonTest:function(e){return console.log("TCL: getCommonTest -> 原始版本",e),m.get("".concat(f,"manage/codeValue/findByCodeFiled"),e)},getAllOrgTree:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return m.post("".concat(f,"/getAllOrgTree"),e)}};console.log("common",g);var v=function(){function e(t){Object(a.a)(this,e),this.defultApi=t,this.api=m,this.methods=Object(r.a)({},t)}return Object(o.a)(e,[{key:"init",value:function(e,t){this.methods=Object(r.a)({},this.defultApi,e),this.router=t}}]),e}(),y=t.a=new v(g)},368:function(e,t,n){"use strict";n(4),n(331);var r=n(343),a=(n(328),n(351),n(329),n(352)),o=n.n(a),i=n(332),s={components:{ElCascader:o.a},name:"cascader",props:{value:{type:[Number,String,Array],default:"0"},type:{type:String,default:"value"},placeholder:{type:String,default:"请选择"}},watch:{value:function(e){e&&this.plugChange,e||(this.cValue=[]),this.plugChange=!1}},data:function(){var e,t=this;return{dictList:[],plugChange:!1,cValue:[],cityProps:{expandTrigger:"hover",value:"id",label:"name",lazy:!0,lazyLoad:(e=Object(r.a)(regeneratorRuntime.mark((function e(n,r){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.level,o=0===a?0:n.data.id,t.cValue.length||!t.value||!t.value.length){e.next=5;break}return e.next=5,t.initSetValue(t.value);case 5:i.a.methods.getCommonDictByParentId({dictId:o}).then((function(e){3===a&&e.forEach((function(e){e.leaf=!0})),r(e)}));case 6:case"end":return e.stop()}}),e,this)}))),function(t,n){return e.apply(this,arguments)})}}},methods:{handleChange:function(e){var t;this.plugChange=!0,t="value"===this.type?e.length>0?e.slice(-1)[0]:"":e,this.$emit("input",t),this.$emit("change",t)},initSetValue:function(e){var t=this;return new Promise((function(n){i.a.methods.getCommonDictParents({dictId:e}).then((function(e){t.$set(t,"cValue",e.ids),n()}))}))}}},c=n(1),u=Object(c.a)(s,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-cascader",{attrs:{options:e.dictList,placeholder:e.placeholder,props:e.cityProps,"show-all-levels":!1,clearable:""},on:{change:e.handleChange},model:{value:e.cValue,callback:function(t){e.cValue=t},expression:"cValue"}})}),[],!1,null,null,null);t.a=u.exports},559:function(e,t,n){"use strict";n.r(t);n(10);var r={components:{obitCity:n(368).a},data:function(){return{code1:'\n      <obitCity placeholder="请选择地址" type="list"></obitCity>'.replace(/^\s*/gm,"").trim()}}},a=n(1),o=Object(a.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("obit-card",{scopedSlots:e._u([{key:"code",fn:function(){return[n("pre",{directives:[{name:"highlightjs",rawName:"v-highlightjs"}]},[n("code",{staticClass:"vue"},[e._v(e._s(e.code1))])])]},proxy:!0}])},[n("obitCity",{attrs:{placeholder:"请选择地址",type:"list"}})],1)],1)}),[],!1,null,null,null);t.default=o.exports}}]);